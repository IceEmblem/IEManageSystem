<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>冰纹</title>
    <script src="jquery-3.3.1.min.js"></script>
    <style type="text/css">
    </style>
</head>
<body>
    <div data-element="dataElement" data-iP="true" id="datadiv">
        <div data-element="dataElement" data-n="Screenshot" data-iL="true">
            <div data-element="dataElement" data-n="One" data-p-n="Screenshot">{{Value}}</div>
            <div data-element="dataElement" data-n="Two" data-p-n="Screenshot">{{Value}}</div>
        </div>
        <ul data-element="dataElement" data-n="Test1" data-iL="true">
            <li data-element="dataElement" data-n="" data-p-n="Test1" data-slide-to="{{Idn}}" class="">{{Value}}</li>
        </ul>
        <div data-element="dataElement" data-n="Test2" data-iP="true">
            <div data-element="dataElement" data-n="One" data-p-n="Test2">{{Value}}</div>
            <div id="testreload" data-element="dataElement" data-n="Two" data-iP="true" data-p-n="Test2">
                <div data-element="dataElement" data-n="Two1" data-p-n="Two">{{Value}}</div>
                <div data-element="dataElement" data-n="Two2" data-p-n="Two">{{Value}}</div>
                <div id="appendtest" data-element="dataElement" data-n="TwoList" data-iL="true" data-p-n="Two">
                    <div data-element="dataElement" data-n="Two1" data-p-n="TwoList">{{Value}}</div>
                    <div data-element="dataElement" data-n="Two2" data-p-n="TwoList">{{Value}}</div>

                    <div data-element="dataElement" data-n="Find" data-p-n="Test2">{{Value}}</div>
                </div>
            </div>
        </div>
        <div data-element="dataElement" data-n="Test3.Name.Name1" data-iL="true">
            <div data-element="dataElement" data-n="" data-p-n="Name1">
                {{Value}}
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(function(){
        });

        $(document).ready(function(){
            var data = { 
                Screenshot:[ { One:"one1", Two:"Two1" }, { One:"one2", Two:"Two2" }], 
                Test1:[ "3", "4" ], 
                Test2:{ 
                    One:"one", 
                    Two:{ 
                        TwoList:[ 
                        { 
                            Two1:"TwoList1" , 
                            Two2: "TowList2"
                        }, 
                        { 
                            Two1:"TwoList3" , 
                            Two2: "TowList4"
                        } 
                        ], 
                        Two1:"Two1", 
                        Two2:"Two2" 
                    },
                    Find:"Find"
                },
                Test3:{
                    Name:{
                        Name1:["测试Test3.Name.Name1 1","测试Test3.Name.Name1 2","测试Test3.Name.Name1 3"]
                    }
                }
            };
            var element = $("#datadiv");

            var factoryId = BuildData(data, element);

            var newdata = { 
                Screenshot:[ { One:"one1", Two:"Two1" }, { One:"one2", Two:"Two2" }], 
                Test1:[ "3", "4" ], 
                Test2:{ 
                    One:"one", 
                    Two:{ 
                        TwoList:[ 
                        { 
                            Two1:"TwoList4" , 
                            Two2: "TowList3"
                        }, 
                        { 
                            Two1:"TwoList2" , 
                            Two2: "TowList1"
                        } 
                        ], 
                        Two1:"Two1", 
                        Two2:"Two2" 
                    },
                    Find:"Find"
                },
                Test3:{
                    Name:{
                        Name1:["测试Test3.Name.Name1 1","测试Test3.Name.Name1 2","测试Test3.Name.Name1 3"]
                    }
                }
            };

            ReloadData(newdata, null, factoryId);

            var element1 = $("#testreload");
            var reloaddata = 
                    { 
                        TwoList:[ 
                        { 
                            Two1:"TwoList5" , 
                            Two2: "TowList6"
                        }, 
                        { 
                            Two1:"TwoList7" , 
                            Two2: "TowList9"
                        } 
                        ], 
                        Two1:"Two3", 
                        Two2:"Two4" 
                    };
            ReloadData(reloaddata, element1, factoryId);

            var element2 = $("#appendtest");
            var appenddata = [ 
                            { 
                                Two1:"TwoList10" , 
                                Two2: "TowList11"
                            }, 
                            { 
                                Two1:"TwoList12" , 
                                Two2: "TowList13"
                            } 
                        ];
            AppendData(appenddata, element2, factoryId);
        });
    </script>

</body>
</html>
